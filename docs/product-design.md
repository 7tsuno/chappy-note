# プロダクト設計書（勉強ノートApps）

## 1. 概要
- ChatGPT内の学習対話をMarkdownノートとして整理・保存し、再編集や検索参照をワンストップで行えるApps。
- Apps SDK（Reactウィジェット + MCPサーバー）をベースに、初期はローカルファイルをストレージとするMVPを構築。

## 2. ターゲットと課題
| ターゲット | 現状の課題 |
| --- | --- |
| ChatGPTで日常的に学習する個人開発者/ビジネスパーソン | 会話履歴が流れて学習ログが散逸、整理に時間がかかる |
| ナレッジを日常的に見返したい自習者 | 「以前学んだ内容」がどこにあるか探せず再学習が発生 |

## 3. 価値提案
1. **即時ノート化**: 「まとめて保存」と指示するだけでコンテキスト付きMarkdownが生成される。
2. **一貫した編集体験**: 保存時と閲覧時で同じエディタを使い、チャット/GUIどちらからでも追記可能。
3. **検索性**: GPTタグ自動付与＋全文検索で「前に学んだ内容」を素早く再提示。

## 4. 主要ユースケース
1. 学習直後にノート化 → UIで微調整 → 保存。
2. 既存ノートをタグフィルタで探し、要点を確認して再編集。
3. チャットで「○○って前どうまとめた？」と尋ね、ノート要約とリンクを受け取る。

## 5. MVPスコープ
- ストレージ: `data/notes/*.md` + `notes.index.json`。
- メタデータ: `id/title/tags/sourceConversationId/createdAt/updatedAt`。
- スクリーン: ノート一覧・詳細・共通エディタ（新規/編集）・検索結果提示。
- 機能: ノート生成/保存、タグ自動付与、タグフィルタ＋全文検索、チャット検索応答、Storybookによる画面レビュー。

## 6. 成功指標（MVP）
- 1チャットセッションで「保存→編集→検索→参照」E2Eを完了できる。
- Storybookレビューで主要画面状態が確認でき、フィードバックがUIに反映される。
- ノート再利用（検索経由で開く）までの操作が3アクション以内。

## 7. 非機能・制約
- ローカルファイルI/Oのアトミック性とUTF-8統一。
- Ngrok等のトンネルにBasic Authなど簡易保護を実装。
- 現段階では履歴管理・コラボ編集はスコープ外。

## 8. 将来拡張
- DB化とAPI公開、他アプリからの参照機能。
- SVG自動生成・Mermaidプレビュー。
- ノートバージョン履歴、共有リンク、Agentic Commerce対応。

## 9. オープン課題
- sourceConversationIdの扱い（ChatGPTセッションID取得方法）。
- タグ自動付与ロジックの安定性と多言語対応。
- 将来のOAuth/認証方式（ユーザー識別）設計。
